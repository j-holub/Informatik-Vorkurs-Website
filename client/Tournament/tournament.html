<template name="tournaments">

	<h2>Turniere</h2>

	{{#each listTournaments}}
		<table>
		{{>tournament}}
		</table>
	{{/each}}

	{{>createTournament}}

</template>



<template name="tournament">
	<tr>
		<td><a href="{{pathFor route='tournamentDetail'}}">{{name}}</a></td>
		<td>{{date}}</td>
	</tr>
</template>



<template name="createTournament">
	<form action="" class="createTournament">
		<p><input type="text" name="tournamentName"></p>
		<p><input type="submit" value="Erstellen"></p>
	</form>
</template>



<template name="tournamentDetail">
	<h3 data-id="{{_id}}">{{name}}</h3>
	<p>Endet: {{date}}</p>

	{{>tournamentParticipants}}
	
	{{#unless userHasRobotInTournament}}
		{{>tournamentEntry}}
	{{/unless}}
</template>



<template name="tournamentParticipants">
	<h2>Teilnehmer</h2>
	<table>
		{{#each particpatingRobots}}
			{{>tournamentRobot}}
		{{/each}}
	</table>
</template>



<template name="tournamentEntry">
	<h2>Teilnehmen</h2>
	<form action="">
		<p>
			<select name="availableRobots">
				{{#each listUserRobots}}
					<option value="{{_id}}">{{name}}</option>
				{{/each}}
			</select>
		</p>
		<p><input type="submit" value="Eintragen"></p>
	</form>
</template>



<template name="tournamentRobot">
	<tr>
		<td>{{name}}</td>
		<td>{{uploaderName belongsTo}}</td>
		{{#if belongsToUser}}
		<td><button name="removeRobot">Austragen</button></td>
		{{/if}}
	</tr>
</template>